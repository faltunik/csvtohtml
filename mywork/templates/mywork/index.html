<html>

<head>
    <title>Convert CSV File to HTML Table</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
    rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>



<body>
    <div class="table-responsive" id="table" style="padding-left: 5%;padding-right: 5%;">
        {% if details %}
              

              {%if query %}
                <h1> Items matches with {{query}}</h1>
              {%endif%}
              



            <h2 class="title"> Displaying Details </h2>


            <div class="input-group mb-3">
                <input type="text" name = "search-form" id="uniqueID" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="basic-addon1">
                <script> 
                    const searchnow = () => {
                        var query = document.getElementById("uniqueID").value;
                        console.log(query);
                        window.location= "http://localhost:8000?query=" + query;
                    }
                
                </script>
                <button type="button" class="btn btn-primary" onclick="searchnow()">Search</button>
            </div>
            


                <div class="col d-flex justify-content-end pb-3">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                          Sort BY
                        </button>
                        <ul class="dropdown-menu">
                          <li><a class="dropdown-item" href="http://127.0.0.1:8000?key=0">Product Name</a></li>
                          <li><a class="dropdown-item" href="http://127.0.0.1:8000?key=1">Volume</a></li>
                          <li><a class="dropdown-item" href="http://127.0.0.1:8000?key=2">Gravity</a></li>
                          <li><a class="dropdown-item" href="http://127.0.0.1:8000?key=3">Fermentation Degree</a></li>
                          <li><a class="dropdown-item" href="http://127.0.0.1:8000?key=4">By Mass</a></li>
                        </ul>
                      </div>
                </div>
            

            <table class="table table-bordered table-hover">
                <tr class="thead-dark">
                    <th>
                        S.No                        
                    </th>

                    <th>
                        Product
                    </th>

                    <th>
                        Volume in Fermentor (hL)
                    </th>

                    
                    <th>Initial Gravity (Â°P)</th>
                    <th>Apparent Degree of Fermentation (%)</th>
                    <th>Yeast Mass (Kg)</th>
                </tr>
                {% for i in details %}
                    <tr>
                        <td>{{ 1 }}</td>
                        <td>{{ i.0 }}</td>
                        <td>{{ i.1 }} </td>
                        <td>{{ i.2 }}</td>
                        <td>{{ i.3 }}%</td>
                        <td>{{ i.4 }}</td>
                        
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <h2 class="title">No Match Found</h2>
            <a class="btn-primary" href="http://127.0.0.1:8000">Home</a></li>
        {% endif %}
    </div>
</body>

</html>